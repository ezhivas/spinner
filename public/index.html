<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Dark API Client</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        gray: {
                            900: '#1a1b1e',
                            800: '#25262b',
                            700: '#2c2e33',
                            600: '#373a40',
                        }
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-gray-900 text-gray-100 h-screen flex overflow-hidden font-sans">

<div class="w-1/4 bg-gray-800 border-r border-gray-700 flex flex-col">
    <div class="p-4 border-b border-gray-700 font-bold text-xl flex justify-between items-center">
        <span>ðŸš€ API Client</span>
        <button id="refreshBtn" class="text-sm bg-gray-700 hover:bg-gray-600 px-2 py-1 rounded">â†»</button>
    </div>
    <div class="flex border-b border-gray-700">
        <button id="requestsTab" class="flex-1 py-2 text-center bg-gray-700 text-white font-bold">Requests</button>
        <button id="collectionRequestsTab" class="flex-1 py-2 text-center bg-gray-600 text-gray-300 hover:bg-gray-700">Collection Requests</button>
        <button id="collectionsTab" class="flex-1 py-2 text-center bg-gray-600 text-gray-300 hover:bg-gray-700">Collections</button>
    </div>
    <div id="requestsList" class="flex-1 overflow-y-auto p-2 space-y-1">
        <div class="text-center text-gray-500 mt-10">Loading...</div>
    </div>
    <div class="p-2 border-t border-gray-700">
        <button id="newRequestBtn" class="w-full bg-green-600 hover:bg-green-500 text-white py-2 rounded">+ New Request</button>
    </div>
    <div id="collectionsList" class="flex-1 overflow-y-auto p-2 space-y-1 hidden">
        <div class="text-center text-gray-500 mt-10">Loading...</div>
        <button id="newCollectionBtn" class="w-full bg-blue-600 hover:bg-blue-500 text-white py-2 rounded mt-4">+ New Collection</button>
    </div>
</div>

<div class="flex-1 flex flex-col h-full">

    <!-- Header Panel -->
    <div class="p-4 bg-gray-800 border-b border-gray-700 flex justify-between items-center">
        <div class="flex space-x-2">
            <button id="importBtn" class="bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded text-sm">Import Collection</button>
            <button id="exportBtn" class="bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded text-sm">Export Collection</button>
            <button id="environmentsBtn" class="bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded text-sm">Environments</button>
        </div>
        <div class="text-gray-400 text-sm">ðŸš€ API Client</div>
    </div>

    <div class="p-4 bg-gray-800 border-b border-gray-700 flex items-center space-x-2">
        <span id="methodBadge" class="px-3 py-1 bg-gray-700 rounded font-mono font-bold text-sm">METHOD</span>
        <input type="text" id="urlInput" class="flex-1 bg-gray-900 border border-gray-700 rounded px-3 py-2 text-gray-300 focus:outline-none focus:border-blue-500" readonly placeholder="Select a request...">
        <select id="environmentSelect" class="bg-gray-900 border border-gray-700 rounded px-3 py-2 text-gray-300 focus:outline-none focus:border-blue-500">
            <option value="">No Environment</option>
        </select>
        <button id="editBtn" class="bg-yellow-600 hover:bg-yellow-500 text-white px-4 py-2 rounded font-bold hidden">Edit</button>
        <button id="saveBtn" class="bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded font-bold hidden">Save</button>
        <button id="discardBtn" class="bg-red-600 hover:bg-red-500 text-white px-4 py-2 rounded font-bold hidden">Discard</button>
        <button id="runBtn" class="bg-blue-600 hover:bg-blue-500 text-white px-6 py-2 rounded font-bold transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
            â–¶ Run
        </button>
    </div>

    <div class="flex-1 flex overflow-hidden">

        <div class="w-1/2 p-4 border-r border-gray-700 overflow-y-auto">
            <h3 class="text-gray-400 text-xs font-bold uppercase mb-2">Request Body (JSON)</h3>
            <pre id="requestBodyDisplay" class="bg-gray-900 p-3 rounded border border-gray-700 text-sm text-green-400 min-h-[100px]"></pre>
            <textarea id="requestBodyEdit" class="bg-gray-900 p-3 rounded border border-gray-700 text-sm text-green-400 min-h-[100px] w-full hidden" placeholder="Enter JSON body..."></textarea>

            <h3 class="text-gray-400 text-xs font-bold uppercase mt-4 mb-2">Headers</h3>
            <pre id="requestHeadersDisplay" class="bg-gray-900 p-3 rounded border border-gray-700 text-sm text-yellow-400"></pre>
            <textarea id="requestHeadersEdit" class="bg-gray-900 p-3 rounded border border-gray-700 text-sm text-yellow-400 w-full hidden" placeholder="Enter JSON headers..."></textarea>
        </div>

        <div class="w-1/2 p-4 bg-gray-900 overflow-y-auto flex flex-col">
            <div class="flex justify-between items-end mb-2">
                <h3 class="text-gray-400 text-xs font-bold uppercase">Response</h3>
                <div id="statusBadge" class="hidden text-xs px-2 py-1 rounded bg-gray-700">Status: <span id="statusValue"></span></div>
                <div id="timer" class="text-xs text-gray-500 font-mono hidden">Time: <span id="timerValue">0ms</span></div>
            </div>

            <div id="responseArea" class="flex-1 bg-gray-800 p-4 rounded border border-gray-700 font-mono text-sm text-gray-300 overflow-auto">
                Select a request and click Run.
            </div>
        </div>
    </div>
</div>

<!-- Modal for creating new request -->
<div id="createRequestModal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50">
    <div class="bg-gray-800 p-6 rounded-lg w-96 max-w-full mx-4">
        <h2 class="text-xl font-bold mb-4">Create New Request</h2>
        <form id="createRequestForm">
            <div class="mb-4">
                <label class="block text-sm font-medium mb-1">Name</label>
                <input type="text" id="newRequestName" class="w-full bg-gray-900 border border-gray-700 rounded px-3 py-2 text-gray-300" required>
            </div>
            <div class="mb-4">
                <label class="block text-sm font-medium mb-1">Method</label>
                <select id="newRequestMethod" class="w-full bg-gray-900 border border-gray-700 rounded px-3 py-2 text-gray-300">
                    <option value="GET">GET</option>
                    <option value="POST">POST</option>
                    <option value="PUT">PUT</option>
                    <option value="DELETE">DELETE</option>
                    <option value="PATCH">PATCH</option>
                </select>
            </div>
            <div class="mb-4">
                <label class="block text-sm font-medium mb-1">URL</label>
                <input type="text" id="newRequestUrl" class="w-full bg-gray-900 border border-gray-700 rounded px-3 py-2 text-gray-300" placeholder="https://api.example.com" required>
            </div>
            <div class="mb-4">
                <label class="block text-sm font-medium mb-1">Body (JSON)</label>
                <textarea id="newRequestBody" class="w-full bg-gray-900 border border-gray-700 rounded px-3 py-2 text-gray-300" rows="3" placeholder='{"key": "value"}'></textarea>
            </div>
            <div class="mb-4">
                <label class="block text-sm font-medium mb-1">Headers (JSON)</label>
                <textarea id="newRequestHeaders" class="w-full bg-gray-900 border border-gray-700 rounded px-3 py-2 text-gray-300" rows="2" placeholder='{"Authorization": "Bearer token"}'></textarea>
            </div>
            <div class="mb-4">
                <label class="block text-sm font-medium mb-1">Collection</label>
                <select id="newRequestCollection" class="w-full bg-gray-900 border border-gray-700 rounded px-3 py-2 text-gray-300">
                    <option value="">No Collection</option>
                </select>
            </div>
            <div class="flex justify-end space-x-2">
                <button type="button" id="cancelCreateRequest" class="px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded">Cancel</button>
                <button type="submit" class="px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded">Create</button>
            </div>
        </form>
    </div>
</div>

<!-- Modal for importing collection -->
<div id="importCollectionModal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50">
    <div class="bg-gray-800 p-6 rounded-lg w-96 max-w-full mx-4">
        <h2 class="text-xl font-bold mb-4">Import Collection</h2>
        <form id="importCollectionForm">
            <div class="mb-4">
                <label class="block text-sm font-medium mb-1">Upload Postman Collection JSON File</label>
                <input type="file" id="importFile" accept=".json" class="w-full bg-gray-900 border border-gray-700 rounded px-3 py-2 text-gray-300">
            </div>
            <div class="mb-4">
                <label class="block text-sm font-medium mb-1">Or Paste JSON</label>
                <textarea id="importJson" class="w-full bg-gray-900 border border-gray-700 rounded px-3 py-2 text-gray-300" rows="5" placeholder='Paste Postman collection JSON here...'></textarea>
            </div>
            <div class="flex justify-end space-x-2">
                <button type="button" id="cancelImport" class="px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded">Cancel</button>
                <button type="submit" class="px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded">Import</button>
            </div>
        </form>
    </div>
</div>

<!-- Modal for exporting collection -->
<div id="exportCollectionModal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50">
    <div class="bg-gray-800 p-6 rounded-lg w-96 max-w-full mx-4">
        <h2 class="text-xl font-bold mb-4">Export Collection</h2>
        <form id="exportCollectionForm">
            <div class="mb-4">
                <label class="block text-sm font-medium mb-1">Select Collection</label>
                <select id="exportCollectionSelect" class="w-full bg-gray-900 border border-gray-700 rounded px-3 py-2 text-gray-300">
                    <option value="">Select a collection...</option>
                </select>
            </div>
            <div class="flex justify-end space-x-2">
                <button type="button" id="cancelExport" class="px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded">Cancel</button>
                <button type="submit" class="px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded">Export</button>
            </div>
        </form>
    </div>
</div>

<!-- Modal for managing environments -->
<div id="manageEnvironmentsModal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50">
    <div class="bg-gray-800 p-6 rounded-lg w-96 max-w-full mx-4 max-h-[80vh] overflow-y-auto">
        <h2 class="text-xl font-bold mb-4">Manage Environments</h2>
        <div id="environmentsList" class="space-y-2 mb-4">
            <div class="text-center text-gray-500">Loading...</div>
        </div>
        <button id="newEnvironmentBtn" class="w-full bg-purple-600 hover:bg-purple-500 text-white py-2 rounded">+ New Environment</button>
        <div class="flex justify-end mt-4">
            <button id="closeManageEnvironments" class="px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded">Close</button>
        </div>
    </div>
</div>

<!-- Modal for creating/editing environment -->
<div id="createEnvironmentModal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50">
    <div class="bg-gray-800 p-6 rounded-lg w-96 max-w-full mx-4">
        <h2 id="environmentModalTitle" class="text-xl font-bold mb-4">Create Environment</h2>
        <form id="createEnvironmentForm">
            <div class="mb-4">
                <label class="block text-sm font-medium mb-1">Name</label>
                <input type="text" id="environmentName" class="w-full bg-gray-900 border border-gray-700 rounded px-3 py-2 text-gray-300" required>
            </div>
            <div class="mb-4">
                <label class="block text-sm font-medium mb-1">Variables (JSON)</label>
                <textarea id="environmentVariables" class="w-full bg-gray-900 border border-gray-700 rounded px-3 py-2 text-gray-300" rows="5" placeholder='{"BASE_URL": "https://api.example.com", "API_KEY": "your-key"}'></textarea>
            </div>
            <div class="flex justify-end space-x-2">
                <button type="button" id="cancelCreateEnvironment" class="px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded">Cancel</button>
                <button type="submit" class="px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded">Save</button>
            </div>
        </form>
    </div>
</div>

<!-- Modal for viewing environment -->
<div id="viewEnvironmentModal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50">
    <div class="bg-gray-800 p-6 rounded-lg w-96 max-w-full mx-4">
        <h2 class="text-xl font-bold mb-4">View Environment</h2>
        <div class="mb-4">
            <label class="block text-sm font-medium mb-1">Name</label>
            <input type="text" id="viewEnvironmentName" class="w-full bg-gray-900 border border-gray-700 rounded px-3 py-2 text-gray-300" readonly>
        </div>
        <div class="mb-4">
            <label class="block text-sm font-medium mb-1">Variables (JSON)</label>
            <pre id="viewEnvironmentVariables" class="w-full bg-gray-900 border border-gray-700 rounded px-3 py-2 text-gray-300 min-h-[100px] whitespace-pre-wrap"></pre>
        </div>
        <div class="flex justify-end">
            <button id="closeViewEnvironment" class="px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded">Close</button>
        </div>
    </div>
</div>

<script src="app.js"></script>
</body>
</html>



